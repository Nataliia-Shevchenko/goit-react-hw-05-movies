"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[797],{293:function(e,t,n){n.d(t,{Bt:function(){return d},Fn:function(){return l},Y5:function(){return f},_k:function(){return o},y:function(){return v}});var r=n(861),c=n(757),a=n.n(c),u="https://api.themoviedb.org/",s={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0OTljOWIxN2VjNGRjMTE5NGZhM2ZhMzE5NjZmZjQ1MCIsInN1YiI6IjY0NmNkZDJjNzA2YjlmMDBmZTU0MmYzOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ._EPljdPLGA2vemLx2WJWdxYEBVsaBhAo9KW81IlKbcM"}};function o(){return i.apply(this,arguments)}function i(){return(i=(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(u,"3/trending/movie/day?language=en-US"),s);case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(u,"3/search/movie?query=").concat(t,"&include_adult=false&language=en-US&page=1"),s);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(u,"3/movie/").concat(t,"?language=en-US"),s);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function v(e){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(u,"3/movie/").concat(t,"/credits?language=en-US"),s);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function d(e){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(u,"3/movie/").concat(t,"/reviews?language=en-US&page=1"),s);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}},797:function(e,t,n){n.r(t);var r=n(861),c=n(439),a=n(757),u=n.n(a),s=n(791),o=n(87),i=n(689),l=n(293),p=n(184);t.default=function(){var e,t=(0,s.useState)(""),n=(0,c.Z)(t,2),a=n[0],f=n[1],h=(0,s.useState)([]),v=(0,c.Z)(h,2),m=v[0],d=v[1],x=(0,o.lr)(),g=(0,c.Z)(x,2),y=g[0],j=g[1],w=null!==(e=y.get("query"))&&void 0!==e?e:"",Z=(0,i.TH)();(0,s.useEffect)((function(){function e(){return(e=(0,r.Z)(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==a){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,l.Fn)(a);case 5:t=e.sent,n=t.results,r=n.map((function(e){return{title:e.title,id:e.id}})),d(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:return e.prev=14,e.finish(14);case 16:case"end":return e.stop()}}),e,null,[[0,11,14,16]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==w.trim()?f(w):window.alert("Fill the search form!")},children:[(0,p.jsx)("input",{type:"text",value:w,onChange:function(e){if(""===e.target.value)return j({});j({query:e.target.value})}}),(0,p.jsx)("button",{typeof:"submit",children:"Search"})]}),(0,p.jsx)("ul",{children:null===m||void 0===m?void 0:m.map((function(e){return(0,p.jsx)(o.rU,{to:"".concat(e.id),state:{from:Z},children:(0,p.jsx)("li",{children:e.title})},e.id)}))})]})}},861:function(e,t,n){function r(e,t,n,r,c,a,u){try{var s=e[a](u),o=s.value}catch(i){return void n(i)}s.done?t(o):Promise.resolve(o).then(r,c)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(c,a){var u=e.apply(t,n);function s(e){r(u,c,a,s,o,"next",e)}function o(e){r(u,c,a,s,o,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return c}})}}]);
//# sourceMappingURL=797.081181fc.chunk.js.map